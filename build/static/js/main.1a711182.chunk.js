(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,n){e.exports=n(369)},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},289:function(e,t,n){},293:function(e,t,n){},314:function(e,t,n){},346:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),l=n(40),c=n.n(l),s=(n(203),n(29)),i=n(30),u=n(36),m=n(31),d=n(37),h=(n(204),n(42)),f=n(371),p=n(370),E=(n(205),n(50)),b=n.n(E),y=n(56),g=n.n(y),v=n(35),w=n.n(v),O=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e};n(206);!function(e){e.TWO="TWO",e.THREE="THREE",e.FOUR="FOUR"}(a||(a={}));var C,T=n(18),k=n.n(T),x=n(372),N=[{blueOne:0,blueTwo:1,redOne:2,redTwo:3,out:4},{blueOne:0,blueTwo:4,redOne:2,redTwo:1,out:3},{blueOne:0,blueTwo:3,redOne:4,redTwo:1,out:2},{blueOne:0,blueTwo:2,redOne:3,redTwo:4,out:1},{blueOne:2,blueTwo:4,redOne:3,redTwo:1,out:0}],S=Object(x.a)(0,5).map(function(e){return N.map(function(t){var n=function(e){return function(t){return(t+2*e)%5}}(e);return{blueOne:n(t.blueOne),blueTwo:n(t.blueTwo),redOne:n(t.redOne),redTwo:n(t.redTwo),out:n(t.out)}})}),j=(C=[]).concat.apply(C,Object(h.a)(S)),I=function(e){return j[e%25]},M=n(20),R=n.n(M),W=n(7),F=function(e){return o.a.createElement("div",null,o.a.createElement(k.a,{onClick:function(){return e({blue:2,red:0})},className:"score-button primary",size:"small",color:"primary"},"2-0"),o.a.createElement(k.a,{onClick:function(){return e({blue:1,red:1})},className:"score-button default",size:"small",color:"default"},"1-1"),o.a.createElement(k.a,{onClick:function(){return e({blue:0,red:2})},className:"score-button secondary",size:"small",color:"secondary"},"0-2"))},P=function(e){return o.a.createElement("div",null,o.a.createElement(k.a,{onClick:function(){return e({blue:3,red:0})},className:"score-button primary",size:"small",color:"primary"},"3-0"),o.a.createElement(k.a,{onClick:function(){return e({blue:2,red:1})},className:"score-button primary",size:"small",color:"primary"},"2-1"),o.a.createElement(k.a,{onClick:function(){return e({blue:1,red:2})},className:"score-button secondary",size:"small",color:"secondary"},"1-2"),o.a.createElement(k.a,{onClick:function(){return e({blue:0,red:3})},className:"score-button secondary",size:"small",color:"secondary"},"0-3"))},z=function(e){return o.a.createElement("div",null,o.a.createElement(k.a,{onClick:function(){return e({blue:4,red:0})},className:"score-button primary",size:"small",color:"primary"},"4-0"),o.a.createElement(k.a,{onClick:function(){return e({blue:3,red:1})},className:"score-button primary",size:"small",color:"primary"},"3-1"),o.a.createElement(k.a,{onClick:function(){return e({blue:2,red:2})},className:"score-button default",size:"small",color:"default"},"2-2"),o.a.createElement(k.a,{onClick:function(){return e({blue:1,red:3})},className:"score-button secondary",size:"small",color:"secondary"},"1-3"),o.a.createElement(k.a,{onClick:function(){return e({blue:0,red:4})},className:"score-button secondary",size:"small",color:"secondary"},"0-4"))},A=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(W.b,{item:!0,container:!0,direction:"row",justify:"center",alignItems:"center",className:"gameplay-row"},o.a.createElement(W.b,{item:!0,xs:2,className:"gameplay-item"},o.a.createElement(R.a,{variant:"h6"},(t=e.players,n=I(e.roundIndex),o.a.createElement(o.a.Fragment,null,t[n.blueOne].name,o.a.createElement("br",null),t[n.blueTwo].name)))),o.a.createElement(W.b,{item:!0,xs:8,className:"gameplay-item"},function(e,t){switch(t){case a.TWO:return F(e);case a.THREE:return P(e);case a.FOUR:return z(e)}}(e.addLineupScore,e.scoreMode)),o.a.createElement(W.b,{item:!0,xs:2,className:"gameplay-item"},o.a.createElement(R.a,{variant:"h6"},function(e,t){return o.a.createElement(o.a.Fragment,null,e[t.redOne].name,o.a.createElement("br",null),e[t.redTwo].name)}(e.players,I(e.roundIndex))))));var t,n},H=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,{align:"center",variant:"h5",id:"gameplay-header"},"Current teams"),o.a.createElement(A,{players:e.players,addLineupScore:e.addLineupScore,roundIndex:e.roundIndex,scoreMode:e.scoreMode}))},U=n(51),L=n.n(U),B=n(52),G=n.n(B),V=n(32),J=n.n(V),$=(n(289),function(e){switch(e){case a.TWO:return 2;case a.THREE:return 3;case a.FOUR:return 4}}),q=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,{align:"center",variant:"h5",gutterBottom:!0,id:"scoreboard-header"},"Scoreboard"),o.a.createElement(W.c,{id:"scoreboard",className:"table centered striped is-fullwidth"},o.a.createElement(L.a,null,Object(f.a)(e.players).sort(function(e,t){return t.score-e.score}).map(function(t,n){return o.a.createElement(G.a,{key:n},o.a.createElement(J.a,null,o.a.createElement(R.a,{variant:"h6"},t.name)),o.a.createElement(J.a,null,o.a.createElement(R.a,{variant:"h6"},t.score)),o.a.createElement(J.a,{style:{width:"65%"}},o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:"determinate",style:{width:t.score/(e.roundCount*$(e.scoreMode)*.8)*100+"%"}}))))}))))},D=function(e,t,n){return e.map(function(e,a){return t.blueOne===a||t.blueTwo===a?e.score+=n.blue:t.redOne!==a&&t.redTwo!==a||(e.score+=n.red),e})},K=function(e,t,n){return e.map(function(e,a){return t.blueOne===a||t.blueTwo===a?e.score-=n.blue:t.redOne!==a&&t.redTwo!==a||(e.score-=n.red),e})},Q=n(373),X=n(24),Y=n.n(X),Z=(n(293),function(e){return o.a.createElement("section",{id:"scorehistory"},e.scores&&e.scores.length>0&&o.a.createElement(Y.a,{item:!0,container:!0,direction:"row",justify:"center",alignItems:"center",className:"result-row"},o.a.createElement(Y.a,{item:!0,xs:4,className:"result-item"},o.a.createElement(k.a,{onClick:function(){return e.revertChange()},className:"score-button",size:"small",color:"primary"},o.a.createElement("i",{className:"material-icons"},"replay")))),Object(Q.a)(e.scores).map(function(t,n){return o.a.createElement(Y.a,{item:!0,key:n,container:!0,direction:"row",justify:"center",alignItems:"center",className:"result-row"},o.a.createElement(Y.a,{item:!0,xs:4,className:"result-item"},o.a.createElement(W.d,{variant:"h6"},e.players[t.lineup.blueOne].name,"-",e.players[t.lineup.blueTwo].name)),o.a.createElement(Y.a,{item:!0,xs:4,className:"result-item"},o.a.createElement(W.d,{variant:"h6"},"#",t.roundIndex+1,o.a.createElement("br",null)," ",t.roundResult.blue," - ",t.roundResult.red)),o.a.createElement(Y.a,{item:!0,xs:4,className:"result-item"},o.a.createElement(W.d,{variant:"h6"},e.players[t.lineup.redOne].name,"-",e.players[t.lineup.redTwo].name)))}))}),_=n(113),ee=n.n(_),te=n(41),ne=n.n(te),ae=n(53),re=n.n(ae),oe=n(54),le=n.n(oe),ce=n(33),se=n.n(ce),ie=n(34),ue=n.n(ie),me=(n(314),n(55)),de=n.n(me),he=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"controls"},o.a.createElement(W.d,{variant:"h6"},"Basic controls"),o.a.createElement(ne.a,{variant:"contained",color:"primary",onClick:function(){return e.resetScore()},className:"controls-button"},"Reset scores"),o.a.createElement(ne.a,{variant:"contained",color:"primary",onClick:function(){return e.shufflePlayers()},className:"controls-button"},"Shuffle players"),o.a.createElement("br",null),o.a.createElement(W.d,{variant:"h6"},"Score mode"),o.a.createElement(re.a,null,o.a.createElement(le.a,{row:!0,name:"Scoremode","aria-label":"scoremode",value:e.scoreMode,onChange:function(t,n){return e.changeScoremode(n)}},o.a.createElement(se.a,{value:a.TWO,control:o.a.createElement(ue.a,null),label:"Two"}),o.a.createElement(se.a,{value:a.THREE,control:o.a.createElement(ue.a,null),label:"Three"}),o.a.createElement(se.a,{value:a.FOUR,control:o.a.createElement(ue.a,null),label:"Four"}))),o.a.createElement("br",null),o.a.createElement(W.d,{variant:"h6"},"Round count"),o.a.createElement(de.a,{defaultValue:5,inputProps:{"aria-label":"How many full rounds."},type:"number",onChange:function(t){var n=parseInt(t.target.value);NaN!==n&&e.changeRoundCount(5*n)}}),o.a.createElement(W.d,{variant:"h6"},"Vocabulary"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(W.d,{variant:"button",inline:!0},"Score mode"),": How many balls are played in a turn"),o.a.createElement("li",null,o.a.createElement(W.d,{variant:"button",inline:!0},"Turn"),": One turn means all the balls played without changing teams"),o.a.createElement("li",null,o.a.createElement(W.d,{variant:"button",inline:!0},"Round"),": 5 Turns. Each player has played against each other once and had one break"),o.a.createElement("li",null,o.a.createElement(W.d,{variant:"button",inline:!0},"Cycle"),": 5 Rounds. After 5 rounds teams are same as in the beginning and a new cycle begins."))))},fe=(n(346),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(W.d,{variant:"h5",align:"center",id:"game-info-header"},"Game info"),o.a.createElement(W.d,{variant:"caption",align:"center"},"Turn ",e.roundIndex+1,"/",e.roundCount),o.a.createElement(W.d,{variant:"caption",align:"center"},"Total balls ",$(e.scoreMode)*e.roundCount),o.a.createElement(W.d,{variant:"caption",align:"center"},"Maximum points per player ",$(e.scoreMode)*e.roundCount*.8))}),pe=function(e){return o.a.createElement(W.d,{component:"div",style:{padding:0}},e.children)},Ee=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={players:n.props.players,roundIndex:0,scores:[],scoreMode:a.TWO,tab:0,roundCount:j.length},n.changeTab=function(e,t){n.setState({tab:t})},n.changeTabIndex=function(e){n.setState({tab:e})},n.addScore=function(e){return function(t){var a=Object(f.a)(n.state),r=a.scores,o=a.roundIndex,l=a.players;r.push({roundIndex:n.state.roundIndex,lineup:e,roundResult:t}),D(l,e,t);var c=o+1;n.setState({players:l,roundIndex:c,scores:r})}},n.resetScore=function(){var e=n.state.players.map(function(e){return{name:e.name,score:0}});n.setState({players:e,scores:[],roundIndex:0})},n.revertChange=function(){if(n.state.scores.length>=1){var e=n.state,t=e.scores,a=e.players,r=Object(f.a)(t[t.length-1]),o=Object(p.a)(1,t),l=K(a,r.lineup,r.roundResult);n.setState({players:l,scores:o,roundIndex:r.roundIndex})}},n.changeScoreMode=function(e){n.setState({scoreMode:e})},n.shufflePlayers=function(){var e=O(n.state.players);n.setState({players:e})},n.changeRoundCount=function(e){n.setState({roundCount:e})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.tab;return o.a.createElement("div",null,o.a.createElement(b.a,{position:"static"},o.a.createElement(g.a,{variant:"fullWidth",value:e,onChange:this.changeTab},o.a.createElement(w.a,{label:"Gameplay"}),o.a.createElement(w.a,{label:"Scorehistory"}),o.a.createElement(w.a,{label:"Controls"}))),o.a.createElement(ee.a,{axis:"x",index:this.state.tab,onChangeIndex:this.changeTabIndex},o.a.createElement(pe,null,this.state.roundCount<=this.state.roundIndex&&o.a.createElement(W.d,{align:"center",variant:"h4",id:"gameplay-header"},"Game over"),o.a.createElement(q,{players:this.state.players,scoreMode:this.state.scoreMode,roundCount:this.state.roundCount}),this.state.roundCount>this.state.roundIndex&&o.a.createElement(H,{players:this.state.players,roundIndex:this.state.roundIndex,addLineupScore:this.addScore(I(this.state.roundIndex)),scoreMode:this.state.scoreMode,scores:this.state.scores,roundCount:this.state.roundCount}),o.a.createElement(fe,{roundIndex:this.state.roundIndex,roundCount:this.state.roundCount,scoreMode:this.state.scoreMode})),o.a.createElement(pe,null,o.a.createElement(Z,{players:this.state.players,scores:this.state.scores,revertChange:this.revertChange})),o.a.createElement(pe,null,o.a.createElement(he,{resetScore:this.resetScore,changeScoremode:this.changeScoreMode,shufflePlayers:this.shufflePlayers,scoreMode:this.state.scoreMode,changeRoundCount:this.changeRoundCount}))))}}]),t}(r.Component),be=(n(357),n(358),n(58)),ye=n.n(be),ge=n(114),ve=n.n(ge),we=n(117),Oe=n.n(we),Ce=n(115),Te=n.n(Ce),ke=n(116),xe=n.n(ke),Ne=n(57),Se=n.n(Ne),je=["Tapio","Matti","Viljo","Niko","Heikki","Mika","Markus","Taneli"].map(function(e){return function(e){return{name:e,score:0}}(e)}),Ie=function(e){return o.a.createElement("div",{id:"player-selection"},o.a.createElement(W.a,{position:"relative"},o.a.createElement(Se.a,null,o.a.createElement(R.a,{variant:"h6",color:"inherit",noWrap:!0},"Select players"))),o.a.createElement(ye.a,{component:"section"},je.map(function(t){return o.a.createElement(ve.a,{button:!0,selected:e.selectedPlayers.includes(t),key:t.name,onClick:function(){return e.togglePlayer(t)}},e.selectedPlayers.includes(t)&&o.a.createElement(Te.a,null,o.a.createElement(xe.a,null)),o.a.createElement(Oe.a,{primary:t.name}))})))},Me=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={players:[]},n.togglePlayer=function(e){var t=n.state.players.includes(e)?Object(h.a)(n.state.players.filter(function(t){return t.name!==e.name})):[].concat(Object(h.a)(n.state.players),[e]);n.setState({players:t})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.players.length<5?o.a.createElement(Ie,{selectedPlayers:this.state.players,togglePlayer:this.togglePlayer}):o.a.createElement(Ee,{players:this.state.players})}}]),t}(r.Component),Re=n(59),We=n.n(Re),Fe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(We.a,null),o.a.createElement("div",{className:"App"},o.a.createElement(Me,null)))}}]),t}(r.Component),Pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(Fe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Pe?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ze(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ze(t,e)})}}()}},[[198,1,2]]]);
//# sourceMappingURL=main.1a711182.chunk.js.map